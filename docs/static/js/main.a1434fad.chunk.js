(this["webpackJsonpreact-us-mobility"]=this["webpackJsonpreact-us-mobility"]||[]).push([[0],{14:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);a(14);var c=a(2),s=a(35),l=a.n(s),r=a(34),n=a(3),i=a(77),o=a(0),d=function(e){var t=e.gridCircleData,a=e.stateAbbr,c=e.radius,s=e.telework;return t.map((function(e){var l;return 2===e&&s>=30?l="telework":1===e&&(l="grid-baseline"),Object(o.jsx)("g",{children:Object(o.jsx)("circle",{id:2===e?"".concat(a,"-grid"):null,className:l,r:c/(t.length-1)*e,fill:2===e?"#e8e8e8":"none",stroke:"#fff",fillOpacity:.5,strokeWidth:"us"===a?4:2})},"".concat(a,"-").concat(e))}))},h=[["Retail","Recreation"],["Grocery","Pharmacy"],["Parks"],["Transit","Stations"],["Work","Places"]],b=["middle","start","start","end","end"],u=function(e){var t=e.stateAbbr,a=e.mobility,c=e.rScale,s=e.angleSlice;return a.map((function(e,a){return Object(o.jsxs)("g",{children:[Object(o.jsx)("line",{x1:0,y1:0,x2:1.1*c.range()[1]*Math.cos(s*a-Math.PI/2),y2:1.1*c.range()[1]*Math.sin(s*a-Math.PI/2),stroke:"#fff",strokeWidth:"us"===t?4:2}),"AK"===t?Object(o.jsx)("text",{className:"legend ak-legend",textAnchor:b[a],y:1.5*c.range()[1]*Math.sin(s*a-Math.PI/2),children:h[a].map((function(e,t){return Object(o.jsx)("tspan",{x:1.2*c.range()[1]*Math.cos(s*a-Math.PI/2),dy:11*t,children:e},t)}))}):null,"us"===t?Object(o.jsx)("text",{className:"legend",textAnchor:b[a],y:1.13*c.range()[1]*Math.sin(s*a-Math.PI/2),children:h[a].map((function(e,t){return Object(o.jsx)("tspan",{x:1.1*c.range()[1]*Math.cos(s*a-Math.PI/2),dy:12*t,children:e},t)}))}):null,"example"===t|"top-example"===t?Object(o.jsx)("text",{className:"legend",textAnchor:b[a],y:1.3*c.range()[1]*Math.sin(s*a-Math.PI/2),children:h[a].map((function(e,t){return Object(o.jsx)("tspan",{x:1.1*c.range()[1]*Math.cos(s*a-Math.PI/2),dy:11*t,children:e},t)}))}):null]},"".concat(t,"-").concat(e))}))},j=function(e){var t=e.stateAbbr,a=e.gridCircleData,c=e.radius;return a.map((function(e){return Object(o.jsx)("g",{children:"us"===t|"example"===t?Object(o.jsxs)("text",{className:"legend",y:-c/(a.length-1)*e,dy:2===e?"1em":"0.8em",children:[2===e&&"\u2265+".concat(100*(e-1)/2,"%"),1===e&&"0%",0===e&&"\u2264".concat(100*(e-1)/2,"%")]}):null},"".concat(t,"-").concat(e))}))},p=Object(i.a)(0,3).reverse(),m=function(e){var t=e.stateAbbr,a=e.region,c=e.mobility,s=e.radius,l=e.rScale,r=e.angleSlice,n=e.telework;return Object(o.jsxs)("g",{children:[Object(o.jsx)(d,{gridCircleData:p,stateAbbr:t,region:a,radius:s,telework:n}),Object(o.jsx)(u,{stateAbbr:t,mobility:c,rScale:l,angleSlice:r}),Object(o.jsx)(j,{gridCircleData:p,stateAbbr:t,radius:s})]})},f=a(79),O=a(81),w=function(e){var t=e.data,a=e.stateAbbr,c=e.rScale,s=e.angleSlice,l=e.colorScale,r=e.colorColumn,n=Object(f.a)().curve(O.a).radius((function(e){return e.value>=c.domain()[1]?c.range()[1]:e.value<=c.domain()[0]?c.range()[0]:c(e.value)})).angle((function(e,t){return t*s}));return Object(o.jsx)("path",{className:"radar-path",d:n(t.values),fill:l(t[r]),stroke:l(t[r]),fillOpacity:.3,strokeWidth:"us"===a?3:1.5})},g=a(1),x=function(e){var t=e.data,a=e.stateAbbr,s=e.rScale,l=e.angleSlice,r=e.colorScale,n=e.colorColumn,i=(e.mobile,"us"===a?5:3),d=Object(c.useRef)(null),h=function(){d.current&&Object(g.c)(d.current).attr("opacity",0)};return t.values.map((function(e,c){var b,u=Math.cos(l*c-Math.PI/2),j=Math.sin(l*c-Math.PI/2);return b=e.value>=s.domain()[1]?s.range()[1]:e.value<=s.domain()[0]?s.range()[0]:s(e.value),Object(o.jsxs)("g",{children:[Object(o.jsx)("circle",{onMouseOver:"us"===a?function(){return function(e,t,a){if(d.current){var c=!!(e.type.includes("transit")|e.type.includes("work"));Object(g.c)(d.current).attr("opacity",1).attr("text-anchor",c?"end":"start").attr("x",c?t-10:t+10).attr("y",a).text(e.value>0?"+".concat(Math.round(100*e.value)/100,"%"):"".concat(Math.round(100*e.value)/100,"%"))}}(e,b*u,b*j)}:null,onMouseOut:h,className:"radar-circle radar-circle-".concat(e.type),cx:b*u,cy:b*j,r:i,fill:r(t[n])}),"us"===a&&Object(o.jsx)("text",{ref:d,className:"radar-circle-legend"})]},"".concat(e,"+").concat(c))}))},_=function(e){var t=e.data,a=e.stateAbbr,c=e.mobility,s=e.rScale,l=e.angleSlice,r=e.colorScale,n=e.colorColumn,i=e.mobile,d={state:t.state,state_abbr:t["State Code"],region:t.Region,percent_telework:t.percent_telework,residential:t.residential_change_diff,values:[]};return c.forEach((function(e,a){d.values.push({type:e,value:t[e]})})),Object(o.jsxs)("g",{children:[Object(o.jsx)(w,{data:d,stateAbbr:a,rScale:s,angleSlice:l,colorScale:r,colorColumn:n}),Object(o.jsx)(x,{data:d,stateAbbr:a,rScale:s,angleSlice:l,colorScale:r,colorColumn:n,mobile:i}),"us"!==a?Object(o.jsx)("text",{dy:i&&"AK"!==a?-s.range()[1]:0,className:"state-abbr",children:a}):null]})},v=function(e){var t=e.data,a=e.stateAbbr,c=e.region,s=e.mobility,l=e.radius,r=e.rScale,n=e.angleSlice,i=e.colorScale,d=e.colorColumn,h=e.mobile;return Object(o.jsxs)("g",{transform:"us"===a?"translate(0, ".concat(25,")"):"translate(0)",children:[Object(o.jsx)(m,{stateAbbr:a,region:c,mobility:s,radius:l,rScale:r,angleSlice:n,telework:t.percent_telework}),Object(o.jsx)(_,{data:t,stateAbbr:a,mobility:s,rScale:r,angleSlice:n,colorScale:i,colorColumn:d,mobile:h})]})},y=function(e){var t=e.colorScale,a=e.colorColumn,c=e.x,s=e.y,l=e.width,r=e.height,n=e.forMap;return n||(a="residential"),Object(o.jsxs)("g",{className:"gradient-legend",children:[Object(o.jsx)("defs",{children:Object(o.jsxs)("linearGradient",{id:"".concat(a,"-linear-gradient"),children:[Object(o.jsx)("stop",{offset:"0%",stopColor:t.range()[0]}),Object(o.jsx)("stop",{offset:"100%",stopColor:t.range()[1]})]})}),Object(o.jsx)("text",{className:"legend-title",x:c+l/2,y:s-5,children:n?null:"Time Spent At Home"}),Object(o.jsx)("rect",{x:c,y:s,width:l,height:r,fill:"url(#".concat(a,"-linear-gradient)")}),Object(o.jsx)("text",{x:c,y:s+1.8*r,children:"".concat(t.domain()[0],"%")}),Object(o.jsx)("text",{x:c+l,y:s+1.8*r,textAnchor:"end",children:"residential"===a?"\u2265+".concat(t.domain()[1],"%"):"\u2265".concat(t.domain()[1],"%")})]})},S=window.innerWidth<=768,N={height:0,width:0,stateSize:0,MARGIN:{top:100,right:S?20:50,bottom:S?20:10,left:S?20:60}},k={retail_recreation_change_diff:2.7419354838709675,groce_pharm_change_diff:3.532258064516129,parks_change_diff:32.6612903225807,transit_change_diff:-.03225806451612903,workplaces_change_diff:-15.387096774193548,residential_change_diff:3.25806451612903},M=function(e){var t=e.residentialColorScale,a=e.mobility,s=e.residentialColorColumn,l=2*Math.PI/a.length,i=Object(c.useState)(N),d=Object(n.a)(i,2),h=d[0],b=d[1],u=Object(c.useState)(S),j=Object(n.a)(u,2),p=j[0],m=j[1],f=Object(c.useRef)(null),O=Object(c.useCallback)((function(){if(f.current){m(window.innerWidth<=768);var e=f.current.clientWidth,t={top:100,right:p?20:50,bottom:p?20:0,left:p?20:60};b({height:1.1*e/2+t.top+t.bottom,width:e,stateSize:0,MARGIN:t})}}),[]);Object(c.useEffect)((function(){O(),window.addEventListener("resize",O)}),[f]);var w=h.width/4,g=Object(r.a)().domain([-50,50]).range([0,w]);return Object(o.jsxs)("section",{ref:f,id:"us-overall",className:"mobility-chart",children:[Object(o.jsx)("h3",{children:"Back to Shops, But Not Offices"}),Object(o.jsx)("p",{className:"chart-subtitle",children:"US average mobility in Apr. and May 2021"}),Object(o.jsx)("p",{className:"chart-subtitle",children:"(compared to baseline in Jan. and Feb. 2020)"}),Object(o.jsx)("svg",{width:h.width,height:h.height,children:Object(o.jsxs)("g",{className:"chart",transform:"translate(".concat(h.width/2,", ").concat((h.height+20)/2,")"),children:[Object(o.jsx)(y,{colorScale:t,x:p?-h.width/6:-h.width/8,y:-(w+h.MARGIN.top/2),width:p?h.width/3:h.width/4,height:20,forMap:!1}),Object(o.jsx)(v,{data:k,stateAbbr:"us",radius:w,mobility:a,rScale:g,angleSlice:l,colorScale:t,colorColumn:s,telework:k.percent_telework})]})}),Object(o.jsx)("div",{className:"chart-notes",children:Object(o.jsx)("p",{className:"source",children:"Data Source: Google Mobility Reports"})})]})},C=a(37),A=a.n(C),I=a(38),D=a.n(I),R=a(24),W=a(39),T=[{state_full:"Example",state_postal:"State",row:-1,column:5},{state_full:"Alabama",state_postal:"AL",row:5,column:6},{state_full:"Alaska",state_postal:"AK",row:-1,column:0},{state_full:"Arizona",state_postal:"AZ",row:4,column:1},{state_full:"Arkansas",state_postal:"AR",row:4,column:4},{state_full:"California",state_postal:"CA",row:3,column:0},{state_full:"Colorado",state_postal:"CO",row:3,column:2},{state_full:"Connecticut",state_postal:"CT",row:2,column:9},{state_full:"District of Columbia",state_postal:"DC",row:4,column:8},{state_full:"Delaware",state_postal:"DE",row:3,column:9},{state_full:"Florida",state_postal:"FL",row:6,column:8},{state_full:"Georgia",state_postal:"GA",row:5,column:7},{state_full:"Hawaii",state_postal:"HI",row:6,column:0},{state_full:"Idaho",state_postal:"ID",row:1,column:1},{state_full:"Illinois",state_postal:"IL",row:1,column:6},{state_full:"Indiana",state_postal:"IN",row:2,column:5},{state_full:"Iowa",state_postal:"IA",row:2,column:4},{state_full:"Kansas",state_postal:"KS",row:4,column:3},{state_full:"Kentucky",state_postal:"KY",row:3,column:5},{state_full:"Louisiana",state_postal:"LA",row:5,column:4},{state_full:"Maine",state_postal:"ME",row:-1,column:10},{state_full:"Maryland",state_postal:"MD",row:3,column:8},{state_full:"Massachusetts",state_postal:"MA",row:1,column:9},{state_full:"Michigan",state_postal:"MI",row:1,column:7},{state_full:"Minnesota",state_postal:"MN",row:1,column:4},{state_full:"Mississippi",state_postal:"MS",row:5,column:5},{state_full:"Missouri",state_postal:"MO",row:3,column:4},{state_full:"Montana",state_postal:"MT",row:1,column:2},{state_full:"Nebraska",state_postal:"NE",row:3,column:3},{state_full:"Nevada",state_postal:"NV",row:2,column:1},{state_full:"New Hampshire",state_postal:"NH",row:0,column:10},{state_full:"New Jersey",state_postal:"NJ",row:2,column:8},{state_full:"New Mexico",state_postal:"NM",row:4,column:2},{state_full:"New York",state_postal:"NY",row:1,column:8},{state_full:"North Carolina",state_postal:"NC",row:4,column:6},{state_full:"North Dakota",state_postal:"ND",row:1,column:3},{state_full:"Ohio",state_postal:"OH",row:2,column:6},{state_full:"Oklahoma",state_postal:"OK",row:5,column:3},{state_full:"Oregon",state_postal:"OR",row:2,column:0},{state_full:"Pennsylvania",state_postal:"PA",row:2,column:7},{state_full:"Rhode Island",state_postal:"RI",row:2,column:10},{state_full:"South Carolina",state_postal:"SC",row:4,column:7},{state_full:"South Dakota",state_postal:"SD",row:2,column:3},{state_full:"Tennessee",state_postal:"TN",row:4,column:5},{state_full:"Texas",state_postal:"TX",row:6,column:3},{state_full:"Utah",state_postal:"UT",row:3,column:1},{state_full:"Vermont",state_postal:"VT",row:0,column:9},{state_full:"Virginia",state_postal:"VA",row:3,column:7},{state_full:"Washington",state_postal:"WA",row:1,column:0},{state_full:"West Virginia",state_postal:"WV",row:3,column:6},{state_full:"Wisconsin",state_postal:"WI",row:1,column:5},{state_full:"Wyoming",state_postal:"WY",row:2,column:2}],P=function(e){var t=Object(c.useState)(null),a=Object(n.a)(t,2),s=a[0],l=a[1];return Object(c.useEffect)((function(){Object(g.a)(e).then((function(e){e.forEach((function(e){T.forEach((function(t){e.state==t.state_full&&(e.row=+t.row,e.column=t.column,e.groce_pharm_change_diff=+e.groce_pharm_change_diff,e.retail_recreation_change_diff=+e.retail_recreation_change_diff,e.transit_change_diff=+e.transit_change_diff,e.workplaces_change_diff=+e.workplaces_change_diff,e.parks_change_diff=+e.parks_change_diff,e.residential_change_diff=+e.residential_change_diff,e.percent_telework=+e.percent_telework)}))})),l(Object(W.a)(new Map(e.map((function(e){return[JSON.stringify(e),e]}))).values()))}))}),[]),s},E=function(e){var t=e.onChangeTooltipValue,a=e.stateSize,c=e.mobility,s=e.colorScale,l=e.colorColumn,r=e.mobile,n=P("https://gist.githubusercontent.com/sabrinamochi/6b1a8d203618ed230c7254bf8c53dfd2/raw/cd80388fa3b33d48a8e324331bbcb83531c883c8/clean-avg-mobility-data.csv");if(!n)return Object(o.jsx)("pre",{children:"Loading..."});var i=r?3:5,d=r?12:5,h=function(e){return e.row*(a+d)},b=function(e){return e.column*(a+i)},u=2*Math.PI/c.length,j=a/2,p=Object(g.b)().domain([-50,50]).range([0,j]),m=["NY","NJ","MA","VT","RI","CT","NH","ME"],f=["AK","WA","OR","ID","NV","UT","AZ","MT","WY"],O=["SD","NE","KS","OK","IA","MO","AR","WI","IN","KY","TN","MS","IL","OH","NC","AL","SC","GA"],w=function(){t({value:""},!1)};return n.map((function(e,n){var i=["radar","".concat(e["State Code"],"-radar")];return m.includes(e["State Code"])?i.push("ne"):f.includes(e["State Code"])?i.push("west"):O.includes(e["State Code"])&&i.push("mw-s"),Object(o.jsx)("g",{onMouseOver:function(){return function(e){var c={circleX:b(e)+4*a,circleY:h(e)+2*a},s=Object(R.a)(Object(R.a)({},e),c);t(s,!0)}(e)},onMouseOut:w,className:i.join(" "),transform:"translate(".concat(b(e)+a/2,", ").concat(h(e)+a/2,")"),children:Object(o.jsx)(v,{data:e,stateAbbr:e["State Code"],region:e.Region,mobility:c,radius:j,rScale:p,angleSlice:u,colorScale:s,colorColumn:l,mobile:r})},"".concat(e.state,"-").concat(n))}))},G={explain:function(e){"down"==e?(Object(g.d)(".radar-path").classed("show",!0),Object(g.d)(".radar-circle").classed("show",!0)):(Object(g.d)(".radar-path").classed("show",!1),Object(g.d)(".radar-circle").classed("show",!1))},parks:function(e){"down"==e?(Object(g.d)(".radar-path").classed("show",!1),Object(g.d)(".radar-circle").classed("show",!1),Object(g.d)(".radar-circle-parks_change_diff").classed("show",!0),Object(g.d)(".ak-legend").classed("show",!0)):(Object(g.d)(".radar-circle-parks_change_diff").classed("show",!1),Object(g.d)(".radar-path").classed("show",!0),Object(g.d)(".radar-circle").classed("show",!0))},workplaces:function(e){"down"==e?(Object(g.d)(".radar-circle-parks_change_diff").classed("show",!1),Object(g.d)(".radar-circle-workplaces_change_diff").classed("show",!0)):(Object(g.d)(".radar-circle-workplaces_change_diff").classed("show",!1),Object(g.d)(".radar-circle-parks_change_diff").classed("show",!0))},dc:function(e){"down"==e?(Object(g.d)(".radar-circle-workplaces_change_diff").classed("show",!1),Object(g.d)(".DC-radar path, .DC-radar circle").classed("show",!0)):(Object(g.d)(".DC-radar path, .DC-radar circle").classed("show",!1),Object(g.d)(".radar-circle-workplaces_change_diff").classed("show",!0))},ne:function(e){"down"==e?(Object(g.d)(".DC-radar path, .DC-radar circle").classed("show",!1),Object(g.d)(".ne path, .ne circle").classed("show",!0)):(Object(g.d)(".ne path, .ne circle").classed("show",!1),Object(g.d)(".DC-radar path, .DC-radar circle").classed("show",!0))},west:function(e){"down"==e?(Object(g.d)(".ne path, .ne circle").classed("show",!1),Object(g.d)(".west path, .west circle").classed("show",!0)):(Object(g.d)(".west path, .west circle").classed("show",!1),Object(g.d)(".ne path, .ne circle").classed("show",!0))},"mw-s":function(e){"down"==e?(Object(g.d)(".west path, .west circle").classed("show",!1),Object(g.d)(".mw-s path, .mw-s circle").classed("show",!0)):(Object(g.d)(".mw-s path, .mw-s circle").classed("show",!1),Object(g.d)(".west path, .west circle").classed("show",!0))},vac:function(e){"down"==e?(Object(g.d)(".west path, .west circle").classed("show",!1),Object(g.d)(".radar-path").classed("show",!0),Object(g.d)(".radar-circle").classed("show",!0)):(Object(g.d)(".radar-path").classed("show",!1),Object(g.d)(".radar-circle").classed("show",!1),Object(g.d)(".west path, .west circle").classed("show",!0))},telework:function(e){},invisible:function(e){"down"==e?Object(g.d)(".mobility-chart").style("z-index",1):Object(g.d)(".mobility-chart").style("z-index",-1)}},H=window.innerWidth<=768,V={height:0,width:0,stateSize:0,MARGIN:{top:H?60:100,right:H?20:120,bottom:H?40:35,left:H?20:120}},z={value:""},K=A()(),L=function(e){var t,a=e.residentialColorScale,s=e.mobility,l=e.residentialColorColumn,r=Object(c.useState)(V),i=Object(n.a)(r,2),d=i[0],h=i[1],b=Object(c.useState)(H),u=Object(n.a)(b,2),j=u[0],p=u[1],f=Object(c.useState)(0),O=Object(n.a)(f,2),w=O[0],x=O[1],_=Object(c.useState)(z),v=Object(n.a)(_,2),S=v[0],N=v[1],k=Object(c.useState)(!1),M=Object(n.a)(k,2),C=M[0],A=M[1],I=Object(c.useState)(a),R=Object(n.a)(I,2),W=R[0],T=R[1],P=Object(c.useState)(l),L=Object(n.a)(P,2),Y=L[0],F=L[1],J=function(){return Object(g.b)().domain([10,40]).range(["#858585","#FFC233"])},B=Object(c.useRef)(null),U=Object(c.useRef)(null),X=Object(c.useRef)(null),Z=Object(c.useCallback)((function(e){e.index;var c=e.element,s=e.direction;(t=Object(g.c)(c).attr("data-step"))&&(G[t](s),"telework"===t?(T(J),F("percent_telework")):(T(a),F("residential")))}),[]),q=Object(c.useCallback)((function(){var e=Object(g.c)(".mobility-chart");D.a.add(e.node());var t=Object(g.d)(".scrolling-text");K.setup({step:t.nodes(),offset:.8}).onStepEnter(Z)}),[]),Q=Object(c.useCallback)((function(){if(B.current){p(window.innerWidth<=768);var e=B.current.clientWidth,t={top:j?60:100,right:j?20:120,bottom:j?40:35,left:j?20:120},a=(e-t.left-t.right)/12;h({height:j?8.5*a+t.top+t.bottom:7.5*a+t.top+t.bottom,width:e,stateSize:a,MARGIN:t})}U.current&&(x(X.current.querySelector("p").clientWidth),q())}),[]);Object(c.useEffect)((function(){Q(),window.addEventListener("resize",Q)}),[B,U,X]);var $=Object(c.useCallback)((function(e,t){N(e),A(t)}),[]),ee=Object(c.useCallback)((function(){"residential"===Y?(F("percent_telework"),T(J)):(F("residential"),T(a))}),[Y]);return Object(o.jsxs)("section",{id:"scrolling-map",children:[Object(o.jsx)("div",{ref:B,className:"mobility-chart",children:Object(o.jsxs)("div",{style:{position:"relative"},children:[Object(o.jsx)("h3",{children:"Mobility by State"}),Object(o.jsx)("p",{className:"chart-subtitle"}),Object(o.jsx)("div",{id:"mobile-radar-legend",children:Object(o.jsx)("svg",{width:d.width,height:90,children:Object(o.jsx)("g",{transform:"translate(".concat(d.width/2,", ").concat(48,")"),children:Object(o.jsx)(m,{stateAbbr:"top-example",region:null,mobility:s,radius:30,rScale:Object(g.b)().domain([-50,50]).range([0,30]),angleSlice:2*Math.PI/s.length,telework:0})})})}),Object(o.jsxs)("div",{className:"button-container",children:[Object(o.jsx)("span",{children:"Colored by"}),Object(o.jsx)("button",{onClick:ee,children:"residential"===Y?"Time spent at home":"% Teleworking"})]}),Object(o.jsx)("svg",{width:d.width,height:d.height,children:Object(o.jsxs)("g",{className:"chart",transform:"translate(".concat(d.MARGIN.left,", ").concat(d.MARGIN.top,")"),children:[Object(o.jsx)(y,{colorScale:W,colorColumn:Y,x:j?d.width/2-d.MARGIN.left-d.width/6:d.width/2-d.MARGIN.left-d.width/8,y:.95*-d.MARGIN.top,width:j?d.width/3:d.width/4,height:20,forMap:!0}),Object(o.jsx)(E,{onChangeTooltipValue:$,stateSize:d.stateSize,mobility:s,colorScale:W,colorColumn:Y,mobile:j})]})}),Object(o.jsx)("div",{className:"chart-notes",children:Object(o.jsxs)("p",{className:"source",children:["Data Source: Google Mobility Reports, Household Pulse Survey",Object(o.jsx)("br",{}),"The baseline represents average mobility trends seen in January and February 2020. Interested in how I conducted the data analysis? View it ",Object(o.jsx)("a",{href:"https://sabrinamochi.github.io/react-us-mobility/google-mobility-reports-analysis.html",children:"here"}),"."]})}),Object(o.jsxs)("div",{className:"tooltip",style:{left:j?0:"".concat(S.circleX,"px"),top:j?0:"".concat(S.circleY,"px"),opacity:C?1:0},children:[Object(o.jsx)("h5",{children:S.state}),Object(o.jsxs)("div",{children:[Object(o.jsxs)("p",{children:["retail",Object(o.jsx)("br",{}),"recreation"]}),Object(o.jsx)("p",{children:"".concat(Math.round(10*S.retail_recreation_change_diff)/10,"%")})]}),Object(o.jsxs)("div",{children:[Object(o.jsxs)("p",{children:["grocery",Object(o.jsx)("br",{}),"pharmacy"]}),Object(o.jsx)("p",{children:"".concat(Math.round(10*S.groce_pharm_change_diff)/10,"%")})]}),Object(o.jsxs)("div",{children:[Object(o.jsxs)("p",{children:["transit",Object(o.jsx)("br",{}),"stations"]}),Object(o.jsx)("p",{children:"".concat(Math.round(10*S.transit_change_diff)/10,"%")})]}),Object(o.jsxs)("div",{children:[Object(o.jsxs)("p",{children:["work",Object(o.jsx)("br",{}),"places"]}),Object(o.jsx)("p",{children:"".concat(Math.round(10*S.workplaces_change_diff)/10,"%")})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{children:"parks"}),Object(o.jsx)("p",{children:"".concat(Math.round(10*S.parks_change_diff)/10,"%")})]})]})]})}),Object(o.jsxs)("div",{ref:U,className:"scrolling-texts-container",children:[Object(o.jsxs)("div",{ref:X,className:"scrolling-text","data-step":"explain",children:[Object(o.jsx)("p",{className:"scrolling-text-title",children:"How to read"}),Object(o.jsx)("p",{children:"The further the dot is away from the center, the more people visiting the location compared to the pre-pandemic period, and vice versa."}),Object(o.jsx)("div",{children:Object(o.jsx)("svg",{width:w,height:240,children:Object(o.jsx)("g",{transform:"translate(".concat(w/2,", ").concat(128,")"),children:Object(o.jsx)(m,{stateAbbr:"example",region:null,mobility:s,radius:80,rScale:Object(g.b)().domain([-50,50]).range([0,80]),angleSlice:2*Math.PI/s.length,telework:0})})})})]}),Object(o.jsxs)("div",{className:"scrolling-text","data-step":"parks",children:[Object(o.jsx)("p",{className:"scrolling-text-title",children:"Parks"}),Object(o.jsx)("p",{children:"For example, visits to parks are way above the baseline in almost all states except for D.C. and Hawaii."})]}),Object(o.jsxs)("div",{className:"scrolling-text","data-step":"workplaces",children:[Object(o.jsx)("p",{className:"scrolling-text-title",children:"Workplaces"}),Object(o.jsx)("p",{children:"But visits to workplaces remain below the pre-pandemic levels in every state."})]}),Object(o.jsx)("div",{className:"scrolling-text","data-step":"dc",children:Object(o.jsxs)("p",{children:[Object(o.jsx)("span",{className:"scrolling-text-title",children:"D.C. has the most significant reduction "}),"in mobility patterns. Visits to different locations decline to about 40% below pre-pandemic levels."]})}),Object(o.jsx)("div",{className:"scrolling-text","data-step":"ne",children:Object(o.jsxs)("p",{children:[Object(o.jsx)("span",{className:"scrolling-text-title",children:"Northeastern states "}),"still see people spending more time at home. At the beginning of the pandemic, this region was hit particularly hard and under more stringent restrictions."]})}),Object(o.jsx)("div",{className:"scrolling-text","data-step":"west",children:Object(o.jsxs)("p",{children:[Object(o.jsx)("span",{className:"scrolling-text-title",children:"A few states in the west region "}),"see close-to-normal mobility trends in indoor commercial locations, such as shops and restaurants."]})}),Object(o.jsx)("div",{className:"scrolling-text","data-step":"mw-s",children:Object(o.jsxs)("p",{children:[Object(o.jsx)("span",{className:"scrolling-text-title",children:"About two-thirds of the states in the midwest and south regions "}),"see commercial activities heating up. Mobility trends in supermarkets, cafes and transit stations reach or even surpass baseline levels. The amount of time people spent at home is the same as what it was before the pandemic."]})}),Object(o.jsx)("div",{className:"scrolling-text","data-step":"vac",children:Object(o.jsxs)("p",{children:[Object(o.jsx)("span",{className:"scrolling-text-title",children:"Has vaccination changed people's mobility patterns? "}),"There's no significant correlation between vaccination rates and mobility based on my analysis, echoing a survey result from",Object(o.jsx)("a",{href:"https://www.cardify.ai/reports/pandemic-thrivers",children:"Cardify"}),", which concludes that higher vaccination rates haven't been the primary driver for economic activity."]})}),Object(o.jsxs)("div",{className:"scrolling-text","data-step":"telework",children:[Object(o.jsxs)("p",{children:[Object(o.jsx)("span",{className:"scrolling-text-title",children:"But the percentage of people working remotely "}),"highly correlates with the changes in mobility patterns. States with more people reporting being able to telework also have lower mobility in most locations."]}),Object(o.jsx)("br",{}),Object(o.jsx)("p",{children:"Hover over each state to see more!"})]}),Object(o.jsx)("div",{className:"scrolling-text","data-step":"invisible",children:Object(o.jsx)("p",{})})]})]})},Y=function(){return Object(r.a)().domain([0,10]).range(["#38BFCD","#EE694B"])},F=["retail_recreation_change_diff","groce_pharm_change_diff","parks_change_diff","transit_change_diff","workplaces_change_diff"],J=function(){return Object(o.jsxs)("main",{children:[Object(o.jsxs)("section",{className:"content",children:[Object(o.jsx)("h1",{children:"Where People Are Moving Again"}),Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{children:"City streets are getting crowded, airplanes are filling up, and restaurants are allowing people to dine in again. "}),Object(o.jsx)("br",{}),Object(o.jsx)("p",{children:"As vaccine rollout began last December and restrictions on social distancing have eased, America is on track to return to normalcy.  "}),Object(o.jsx)("br",{}),Object(o.jsx)("p",{children:"Google COVID-19 Community Mobility Reports show how visits and length of stay in different locations have changed compared to a baseline period before the pandemic."})]})]}),Object(o.jsx)(M,{residentialColorScale:Y(),mobility:F,residentialColorColumn:"residential"}),Object(o.jsx)("section",{className:"content",children:Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{children:"Across the U.S., movement of people to shopping centers, grocery stores and train stations is almost the same as what it was during the pre-pandemic days."}),Object(o.jsx)("br",{}),Object(o.jsx)("p",{children:"However, visits to workplaces are still down 20% from the baseline.  "}),Object(o.jsx)("br",{}),Object(o.jsx)("p",{children:"A further inspection of the state-level data reveals that while visits to workplaces remain below the baseline in all states, mobility trends in other locations vary across the country. "})]})}),Object(o.jsx)(L,{residentialColorScale:Y,mobility:F,residentialColorColumn:"residential"})]})},B=document.getElementById("root");l.a.render(Object(o.jsx)(c.StrictMode,{children:Object(o.jsx)(J,{})}),B)}},[[76,1,2]]]);
//# sourceMappingURL=main.a1434fad.chunk.js.map